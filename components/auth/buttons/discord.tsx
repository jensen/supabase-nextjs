"use client";

import { useSessionContext } from "@supabase/auth-helpers-react";

export default function Discord() {
  const { supabaseClient } = useSessionContext();

  return (
    <button
      className="flex items-center space-x-2 bg-discord hover:bg-discord-lighter px-12 py-3 rounded-md"
      onClick={() => {
        supabaseClient.auth.signInWithOAuth({
          provider: "discord",
          options: {
            redirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/authenticated`,
          },
        });
      }}
    >
      <svg
        viewBox="0 0 73 58"
        xmlns="http://www.w3.org/2000/svg"
        height="20"
        fill="currentColor"
      >
        <path d="M61.7958 5.49405C57.0736 3.28465 52.0244 1.67895 46.7456 0.764648C46.0973 1.93675 45.3399 3.51325 44.8177 4.76735C39.2062 3.92345 33.6463 3.92345 28.138 4.76735C27.6159 3.51325 26.8413 1.93675 26.1872 0.764648C20.9027 1.67895 15.8477 3.29055 11.1255 5.50575C1.60078 19.8988 -0.981215 33.9344 0.309785 47.7707C6.62708 52.4883 12.7493 55.3542 18.7682 57.2295C20.2543 55.1842 21.5797 53.0099 22.7215 50.7185C20.5469 49.8922 18.4641 48.8726 16.4961 47.6888C17.0182 47.302 17.5289 46.8975 18.0223 46.4814C30.0257 52.0957 43.0677 52.0957 54.9277 46.4814C55.4269 46.8975 55.9375 47.302 56.4539 47.6888C54.4801 48.8784 52.3916 49.898 50.217 50.7244C51.3588 53.0099 52.6785 55.19 54.1703 57.2352C60.195 55.3599 66.3229 52.4942 72.6402 47.7707C74.155 31.7309 70.0525 17.8242 61.7958 5.49405ZM24.3568 39.2616C20.7535 39.2616 17.7985 35.8977 17.7985 31.8013C17.7985 27.7049 20.6904 24.3351 24.3568 24.3351C28.0233 24.3351 30.9782 27.699 30.9151 31.8013C30.9208 35.8977 28.0233 39.2616 24.3568 39.2616ZM48.5932 39.2616C44.9899 39.2616 42.0349 35.8977 42.0349 31.8013C42.0349 27.7049 44.9267 24.3351 48.5932 24.3351C52.2596 24.3351 55.2146 27.699 55.1515 31.8013C55.1515 35.8977 52.2596 39.2616 48.5932 39.2616Z" />
      </svg>
      <span>Login with Discord</span>
    </button>
  );
}
